{"version":3,"sources":["js-utils/gallery-items.js","js-utils/refs.js","js-utils/make-gallery.js","js-utils/image-details.js","js-utils/open-modal.js","js-utils/slider.js","js-utils/key-hendler.js","index.js"],"names":["galleryItems","preview","original","description","refs","gallery","document","querySelector","modal","modalOverlay","modalImage","modalButton","makeGallery","index","galleryImg","createElement","src","dataset","source","alt","classList","add","galleryLink","href","appendChild","galleryItem","images","map","append","addImageDetails","event","target","contains","onOpenModal","nodeName","preventDefault","addEventListener","currentIndex","onArrowRight","length","onArrowLeft","onCloseModal","remove","keyHendler","code","window"],"mappings":"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","file":"src.2d02ec01.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];","// Создание и рендер разметки по массиву данных galleryItems из app.js и предоставленному шаблону\n\nexport const refs = {\n    gallery: document.querySelector('.js-gallery'),\n    modal: document.querySelector('.js-lightbox'),\n    modalOverlay: document.querySelector('.lightbox__overlay'),\n    modalImage: document.querySelector('.lightbox__image'),\n    modalButton: document.querySelector('.lightbox__button'),\n};\n","import { galleryItems } from \"./gallery-items\";\nimport { refs } from \"./refs\";\n\nexport const makeGallery = ({ preview, original, description }, index) => {\n\n    const galleryImg = document.createElement('img');\n    galleryImg.src = preview;\n    galleryImg.dataset.source = original;\n    galleryImg.alt = description;\n    galleryImg.classList.add('gallery__image');\n  \n    const galleryLink = document.createElement('a');\n    galleryLink.classList.add('gallery__link');\n    galleryLink.href = galleryImg.dataset.source;\n    galleryLink.appendChild(galleryImg);\n  \n    const galleryItem = document.createElement('li');\n    galleryItem.classList.add('gallery__item');\n    galleryItem.appendChild(galleryLink);\n    galleryItem.dataset.index = index;\n  \n    return galleryItem;\n};\n\nconst images = galleryItems.map(makeGallery);\nrefs.gallery.append(...images);","// Подмена значения атрибута src элемента img.lightbox__image\n\nimport { refs } from \"./refs\";\n\nexport function addImageDetails(event) {\n\n  refs.modalImage.alt = event.target.alt;\n\n  if (refs.modal.classList.contains('is-open')) {\n    refs.modalImage.src = event.target.dataset.source;\n  } else {\n    refs.modalImage.src = '';\n  };\n\n}","// Реализация делегирования на галерее ul.js-gallery и получение url большого изображения\n\nimport { refs } from \"./refs\";\nimport { addImageDetails } from './image-details';\n\nrefs.gallery.addEventListener('click', onOpenModal)\n\n// Открытие модального окна по клику на элементе галереи\n\nexport function onOpenModal(event) {\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  event.preventDefault();\n\n  refs.modal.classList.add('is-open');\n\n  addImageDetails(event);\n}","import { refs } from \"./refs\";\nimport { galleryItems } from \"./gallery-items\";\n\nlet currentIndex = 0;\n\nexport function onArrowRight(event) {\n    if (currentIndex + 1 > galleryItems.length - 1) {\n      currentIndex = 0;\n    } else {\n      currentIndex += 1;\n    }\n    refs.modalImage.src = galleryItems[currentIndex].original;\n    refs.modalImage.alt = galleryItems[currentIndex].description;\n  }\n  \nexport function onArrowLeft(event) {\n    if (currentIndex - 1 < 0) {\n      currentIndex = galleryItems.length - 1;\n    } else {\n      currentIndex -= 1;\n    }\n    refs.modalImage.src = galleryItems[currentIndex].original;\n    refs.modalImage.alt = galleryItems[currentIndex].description;\n  }","import { refs } from \"./refs\";\nimport { addImageDetails } from './image-details';\nimport { onArrowLeft } from './slider';\nimport { onArrowRight } from './slider';\n\n// Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"]\n\nrefs.modalButton.addEventListener('click', onCloseModal);\n\n// Закрытие модального окна по клику на div.lightbox__overlay\n\nrefs.modalOverlay.addEventListener('click', onCloseModal);\n\nexport function onCloseModal(event) {\n  refs.modal.classList.remove('is-open');\n  \n  // Очистка значения атрибута src элемента img.lightbox__image\n\n  addImageDetails(event);\n}\n\n// Закрытие модального окна по нажатию клавиши ESC\n\nwindow.addEventListener(\"keydown\", keyHendler)\n\nexport function keyHendler(event) {\n  if (event.code === \"Escape\") {\n    onCloseModal(event);\n  } else if (event.code === \"ArrowRight\") {\n    onArrowRight(event);\n  } else if (event.code === \"ArrowLeft\") {\n    onArrowLeft(event);\n  }\n}","import './sass/main.scss';\n\nimport { galleryItems } from './js-utils/gallery-items';\nimport { refs } from './js-utils/refs';\nimport { makeGallery } from './js-utils/make-gallery';\nimport { onOpenModal } from './js-utils/open-modal';\nimport { addImageDetails } from './js-utils/image-details';\nimport { onCloseModal } from './js-utils/key-hendler';\nimport { keyHendler } from './js-utils/key-hendler';"]}